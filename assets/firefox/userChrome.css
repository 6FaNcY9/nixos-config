/* assets/firefox/userChrome.css */
/* Minimal oneline Firefox theme */
/* Based on: https://github.com/mimipile/firefoxCSS */

/* ══════════════════════════════════════════════════════════════
   HIDDEN ELEMENTS - Comment out lines to show elements
   ══════════════════════════════════════════════════════════════ */

/* Menu button - keep visible */
#PanelUI-button {
  -moz-box-ordinal-group: 0 !important;
  order: -2 !important;
  margin: 2px !important;
}

/* Window control buttons (handled by WM) */
.titlebar-buttonbox-container {
  display: none !important;
}

/* Back/Forward buttons (use Alt+←/→) */
#back-button,
#forward-button {
  display: none !important;
}

/* Extensions button (use Ctrl+Shift+A) */
#unified-extensions-button {
  display: none !important;
}

/* Extension name in URL bar */
#identity-box.extensionPage #identity-icon-label {
  visibility: collapse !important;
}

/* All tabs button */
#alltabs-button {
  display: none !important;
}

/* URL bar icons */
#identity-permission-box,
#star-button-box,
#identity-icon-box,
#picture-in-picture-button,
#tracking-protection-icon-container,
#reader-mode-button,
#translations-button,
#pageActionButton {
  display: none !important;
}

/* "Search with..." dropdown */
#urlbar .search-one-offs {
  display: none !important;
}

/* Titlebar spacers */
.titlebar-spacer {
  display: none !important;
}

/* ══════════════════════════════════════════════════════════════
   LAYOUT - Responsive oneline design
   ══════════════════════════════════════════════════════════════ */

:root {
  --tab-border-radius: 6px !important;
  --NavbarWidth: 43;
  --TabsHeight: 36;
  --TabsBorder: 8;
  --NavbarHeightSmall: calc(var(--TabsHeight) + var(--TabsBorder));
}

/* Wide screens (1325px+): Only tabs space grows */
@media screen and (min-width: 1325px) {
  :root #nav-bar {
    margin-top: calc(var(--TabsHeight) * -1px - var(--TabsBorder) * 1px) !important;
    height: calc(var(--TabsHeight) * 1px + var(--TabsBorder) * 1px);
  }
  #TabsToolbar {
    margin-left: calc(1325px / 100 * var(--NavbarWidth)) !important;
  }
  #nav-bar {
    margin-right: calc(100vw - calc(1325px / 100 * var(--NavbarWidth))) !important;
    vertical-align: center !important;
  }
  #urlbar-container {
    min-width: 0px !important;
    flex: auto !important;
  }
  toolbarspring {
    display: none !important;
  }
}

/* Medium screens (950-1324px): Both tabs and navbar grow */
@media screen and (min-width: 950px) and (max-width: 1324px) {
  :root #nav-bar {
    margin-top: calc(var(--TabsHeight) * -1px - var(--TabsBorder) * 1px) !important;
    height: calc(var(--TabsHeight) * 1px + var(--TabsBorder) * 1px);
  }
  #TabsToolbar {
    margin-left: calc(var(--NavbarWidth) * 1vw) !important;
  }
  #nav-bar {
    margin-right: calc(100vw - calc(var(--NavbarWidth) * 1vw)) !important;
    vertical-align: center !important;
  }
  #urlbar-container {
    min-width: 0px !important;
    flex: auto !important;
  }
  toolbarspring {
    display: none !important;
  }
  #TabsToolbar,
  #nav-bar {
    transition: margin-top 0.25s !important;
  }
}

/* Narrow screens (<950px): Two-line layout */
@media screen and (max-width: 949px) {
  :root #nav-bar {
    padding: 0 5px !important;
    height: calc(var(--NavbarHeightSmall) * 1px) !important;
  }
  toolbarspring {
    display: none !important;
  }
  #TabsToolbar,
  #nav-bar {
    transition: margin-top 0.25s !important;
  }
}

/* Transparent navbar background */
#nav-bar,
#PersonalToolbar {
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
}

#nav-bar {
  margin-left: 3px;
}

.tab-background,
.tab-stack {
  min-height: calc(var(--TabsHeight) * 1px) !important;
}

/* ══════════════════════════════════════════════════════════════
   URL BAR - Clean minimal style
   ══════════════════════════════════════════════════════════════ */

/* Remove urlbar border */
#urlbar-background {
  border: none !important;
  outline: none !important;
  transition: 0.15s !important;
}

/* Transparent when not in use */
#urlbar:not(:hover):not([breakout][breakout-extend]) > #urlbar-background {
  box-shadow: none !important;
  background: transparent !important;
}

/* Remove navigator border */
#navigator-toolbox {
  border: none !important;
}

/* ══════════════════════════════════════════════════════════════
   INACTIVE WINDOW - Subtle fade
   ══════════════════════════════════════════════════════════════ */

#navigator-toolbox-background:-moz-window-inactive {
  filter: contrast(90%);
}

/* ══════════════════════════════════════════════════════════════
   FULLSCREEN
   ══════════════════════════════════════════════════════════════ */

#fullscreen-warning {
  border: none !important;
  background: -moz-Dialog !important;
}

/* ══════════════════════════════════════════════════════════════
   TAB CLOSE BUTTON - Show on hover
   ══════════════════════════════════════════════════════════════ */

.tabbrowser-tab:not(:hover) .tab-close-button {
  opacity: 0% !important;
  transition: 0.3s !important;
  display: -moz-box !important;
}

.tab-close-button[selected]:not(:hover) {
  opacity: 45% !important;
  transition: 0.3s !important;
  display: -moz-box !important;
}

.tabbrowser-tab:hover .tab-close-button {
  opacity: 50%;
  transition: 0.3s !important;
  background: none !important;
  cursor: pointer;
  display: -moz-box !important;
}

.tab-close-button:hover {
  opacity: 100% !important;
  transition: 0.3s !important;
  background: none !important;
  cursor: pointer;
  display: -moz-box !important;
}

.tab-close-button[selected]:hover {
  opacity: 100% !important;
  transition: 0.3s !important;
  background: none !important;
  cursor: pointer;
  display: -moz-box !important;
}
